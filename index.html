<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>TABS</title>
    <style>
        html {
    scroll-behavior: smooth;
}

body {
    scroll-behavior: smooth;
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    display: flex;
    /* Make the body a flex container */
    flex-direction: column;
    /* Stack elements vertically */
    align-items: center;
    /* Center elements horizontally */
    height: 100vh;
    /* Occupy full viewport height */
    width: 100%;
    color: rgb(241, 241, 241);
    background-color: rgb(3, 13, 22);
}

#title {
    font-size: 100px;
}

.container {
    display: flex;
    text-align: center;
    /* Can be removed as overridden */
    flex-direction: column;
    align-items: center;
    /* Center vertically */
    justify-content: center;
    /* Center horizontally */
    width: 100%;
    margin: 0 auto;
    overflow:hidden;
    margin-bottom: 20px
}


.personlist {
    border-radius: 18px;
    font-size: 24px;
    width: 342px;
    padding: 10px;
    /* Removed text-align: center; */
    border-style: solid;
    background-color: transparent;
    color: rgb(241, 241, 241);
    border-color: rgb(241, 241, 241);
    justify-content: space-between;
    /* Added for button positioning */
    overflow:scroll;
    text-align: center;

}

#add-person-btn {
    display: block;
    padding: 10px;
    border-radius: 9px;
    margin-top: 10px;
    bottom: 10px;
    left: 10px;
    border-style: solid;
    background-color: transparent;
    color: rgb(241, 241, 241);
    border-color: rgb(241, 241, 241);
    width: 100%;
}

.dollar-sign {
    /* Align vertically with the input text */
    line-height: 20px;
    /* Adjust based on input height */
    margin-left: 20px;
    /* Add a small margin for spacing */
}

.amount-input {
    background-color: transparent;
    text-align: left;
    /* Added for left alignment */
    border-style: none;
    padding: 10px;
    margin-left: -10px;
    width:50%;
    font-size: 24px;
    color: rgb(241, 241, 241);
    outline: none;
}

.remove-btn {
    display: block;
    padding: 10px;
    border-radius: 9px;
    margin-top: 10px;
    border-style: solid;
    background-color: rgb(36, 105, 149);
    text-align: center;
    margin-bottom: 10px;

}

ul {
    text-align: left;
}



/* Add bottom margin to each list item for spacing */
.personlist>li {
    margin-bottom: 10px;
    /* Adjust margin as needed */
}
    </style>
</head>

<body>
    <div class="container">
        <h1 id="title">TABS</h1>
        <div class="personlist">
            <ul id="people-list"></ul>
            <button id="add-person-btn">Add Person</button>
        </div>

    </div>

    <script>
       const peopleList = document.getElementById('people-list');
    const addPersonBtn = document.getElementById('add-person-btn');

    function addPerson(name, amount) {
      const listItem = document.createElement('li');
      listItem.textContent = name;

      const dollarSpan = document.createElement('span');
      dollarSpan.textContent = '$';
      dollarSpan.classList.add('dollar-sign');
      const amountInput = document.createElement('input');
      amountInput.type = 'number';
      amountInput.placeholder = 'Enter amount...';
      amountInput.classList.add('amount-input');
      amountInput.value = amount || 0; // Set default value to 0

      listItem.appendChild(dollarSpan);
      listItem.appendChild(amountInput);

      const removeBtn = document.createElement('a');
      removeBtn.textContent = 'Clear';
      removeBtn.classList.add('remove-btn');
      removeBtn.addEventListener('click', () => {
        peopleList.removeChild(listItem);
        saveListToStorage(); // Save list after removal
      });
      listItem.appendChild(removeBtn);

      peopleList.appendChild(listItem);
    }

    addPersonBtn.addEventListener('click', () => {
      const name = prompt("Enter Person's Name:");
      const amount = parseInt(prompt("Enter Amount:") || 0); // Parse amount to number and set default to 0
      if (name) {
        addPerson(name, amount);
        saveListToStorage(); // Save list after adding a person
      }
    });

    function saveListToStorage() {
      const listItems = peopleList.querySelectorAll('li');
      const peopleData = []; // Array to store person data

      for (const item of listItems) {
        const person = {
          name: item.textContent,
          amount: parseFloat(item.querySelector('.amount-input').value) || 0, // Parse amount to number and set default to 0
        };
        peopleData.push(person);
      }

      localStorage.setItem('peopleList', JSON.stringify(peopleData)); // Store data in local storage
    }

    function loadListFromStorage() {
      const storedData = localStorage.getItem('peopleList');
      if (storedData) {
        const peopleData = JSON.parse(storedData);
        for (const person of peopleData) {
          addPerson(person.name, person.amount); // Add person with stored name and amount
        }
      }
    }

    // Load list data from storage on page load
    loadListFromStorage();
    </script>
</body>

</html>